<div data-controller="signup-wizard" class="font-dynapuff w-full">
  <div class="space-y-4">
    <div class="relative">
      <%= image_tag "email.svg", alt: "Email", class: "absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 pointer-events-none z-10 opacity-60 color[#d4c4b0]" %>
      <input type="email"
             required
             placeholder="Enter your email..."
             autocomplete="email"
             class="marble-textarea with-icon w-full"
             data-signup-wizard-target="emailInput"
             id="sei"
             onkeydown="if(event.key==='Enter'){event.preventDefault();var btn=this.closest('[data-controller=signup-wizard]').querySelector('.marble-button');if(btn){btn.click();}}">
    </div>
    <div class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg text-sm"
         data-signup-wizard-target="msg">
    </div>
    <button type="button"
            class="marble-button w-full text-center"
            data-action="click->signup-wizard#startSignup">
      Sign up and get free stickers!
    </button>
  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var params = new URLSearchParams(window.location.search);
    var email = params.get('e');
    if (email) {
      var input = document.getElementById('sei');
      if (input) input.value = email;
    }
  });
</script>
